<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:141.0) Gecko/20100101 Firefox/141.0" version="28.0.7" pages="2">
  <diagram name="arch" id="FPnry5ohA0mzXBUXuLxl">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="1654" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="w9c70J-v6dkkHXrrB1TU-23" value="&amp;nbsp;Get claims&amp;nbsp;" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#009900;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;startArrow=blockThin;startFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="L6BFTpbxXpTXNBwRty-M-7" target="w9c70J-v6dkkHXrrB1TU-21">
          <mxGeometry x="0.0016" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-2" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=none;endFill=0;entryX=0.5;entryY=1;entryDx=0;entryDy=39;entryPerimeter=0;startArrow=blockThin;startFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="BjjqDEXEyI0UGoOlh6iu-44" target="w9c70J-v6dkkHXrrB1TU-1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#009900;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=none;endFill=0;startArrow=blockThin;startFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="w9c70J-v6dkkHXrrB1TU-11" target="L6BFTpbxXpTXNBwRty-M-7">
          <mxGeometry x="0.3086" relative="1" as="geometry">
            <mxPoint x="980" y="661" as="sourcePoint" />
            <mxPoint x="1041" y="620" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1032" y="600" />
              <mxPoint x="970" y="600" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-19" value="&lt;div&gt;&lt;b&gt;Search Service&lt;/b&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;[ASG]&lt;/font&gt;" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.groupCenter;grIcon=mxgraph.aws4.group_auto_scaling_group;grStroke=1;strokeColor=#D86613;fillColor=#FFE6CC;verticalAlign=top;align=center;dashed=1;spacingTop=25;" vertex="1" parent="1">
          <mxGeometry x="222" y="1090" width="160" height="160" as="geometry" />
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-20" value="&lt;div style=&quot;line-height: 100%;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;Indexes book metadata;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 100%;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;serves search/recommend APIs.&lt;/font&gt;&lt;/div&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ecs;" vertex="1" parent="D-ZPtWE5nnF1FU1rqcul-19">
          <mxGeometry x="55" y="66" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-12" value="&lt;div&gt;&lt;b&gt;Book Service&lt;/b&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;[ASG]&lt;/font&gt;" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.groupCenter;grIcon=mxgraph.aws4.group_auto_scaling_group;grStroke=1;strokeColor=#D86613;fillColor=#FFE6CC;verticalAlign=top;align=center;dashed=1;spacingTop=25;" vertex="1" parent="1">
          <mxGeometry x="222" y="900" width="160" height="160" as="geometry" />
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-13" value="&lt;div style=&quot;line-height: 100%;&quot;&gt;&lt;div&gt;&lt;font style=&quot;line-height: 100%; font-size: 10px;&quot;&gt;Book CRUD operations;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;line-height: 100%; font-size: 10px;&quot;&gt;metadata, reviewes&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ecs;" vertex="1" parent="D-ZPtWE5nnF1FU1rqcul-12">
          <mxGeometry x="54" y="66" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-6" value="&lt;div&gt;&lt;div&gt;&lt;b&gt;Book Read Service&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;[ASG]&lt;/font&gt;" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.groupCenter;grIcon=mxgraph.aws4.group_auto_scaling_group;grStroke=1;strokeColor=#D86613;fillColor=#FFE6CC;verticalAlign=top;align=center;dashed=1;spacingTop=25;" vertex="1" parent="1">
          <mxGeometry x="222" y="460" width="160" height="160" as="geometry" />
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-7" value="&lt;div&gt;Servesâ€¯/read;&lt;/div&gt;&lt;div&gt;returns a signed S3 URL;&lt;/div&gt;&lt;div&gt;emits a RenderChapter task&amp;nbsp;&lt;/div&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ecs;" vertex="1" parent="D-ZPtWE5nnF1FU1rqcul-6">
          <mxGeometry x="54" y="62" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="D-ZPtWE5nnF1FU1rqcul-7" target="w9c70J-v6dkkHXrrB1TU-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-20" value="&lt;div&gt;&lt;b&gt;RenderChapter&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Task&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=0;strokeColor=#666666;fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="BjjqDEXEyI0UGoOlh6iu-19">
          <mxGeometry x="-0.0104" y="-1" relative="1" as="geometry">
            <mxPoint x="28" y="-39" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-16" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=39;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=light-dark(#007FFF,#959595);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=none;endFill=0;startArrow=blockThin;startFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="BjjqDEXEyI0UGoOlh6iu-2" target="D-ZPtWE5nnF1FU1rqcul-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-17" value="&lt;div&gt;Save book original file&lt;/div&gt;&lt;div&gt;[REST, HTTP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="D-ZPtWE5nnF1FU1rqcul-16">
          <mxGeometry x="0.0388" y="1" relative="1" as="geometry">
            <mxPoint y="2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-2" value="&lt;b style=&quot;forced-color-adjust: none; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: nowrap; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;S3 - File Storage&lt;/b&gt;&lt;div style=&quot;forced-color-adjust: none; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: nowrap; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;Original books, rendered pages&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" vertex="1" parent="1">
          <mxGeometry x="262" y="720" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="BjjqDEXEyI0UGoOlh6iu-3" target="D-ZPtWE5nnF1FU1rqcul-8">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="189.33999999999992" y="594.3199999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-16" value="&lt;div&gt;forward to origin&lt;/div&gt;&lt;div&gt;&amp;nbsp;if no cache hit&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=0;strokeColor=#666666;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="BjjqDEXEyI0UGoOlh6iu-15">
          <mxGeometry x="-0.0864" y="-1" relative="1" as="geometry">
            <mxPoint x="1" y="12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-3" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 700; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: nowrap; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;&quot;&gt;CloudFront - CDN&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudfront;resizable=1;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="690" y="220" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-53" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#009900;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="BjjqDEXEyI0UGoOlh6iu-5" target="L6BFTpbxXpTXNBwRty-M-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="812" y="880" />
              <mxPoint x="812" y="880" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="naRsf6B56AA05fiRLCLu-12" value="&lt;div&gt;&lt;b&gt;Listen to:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;subscription-updated&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;fillColor=none;gradientColor=none;" connectable="0" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-53">
          <mxGeometry x="-0.0826" y="-1" relative="1" as="geometry">
            <mxPoint x="1" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-5" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=light-dark(#E7157B,#EDEDED);fontStyle=1;strokeColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="690" y="780" width="80" height="500" as="geometry" />
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-9" value="&lt;div&gt;&lt;b&gt;OpenSearch&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Search Index&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elasticsearch_service;fontFamily=Helvetica;labelBackgroundColor=default;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="532" y="1170" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-26" value="&lt;div&gt;RDS&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;Books DB&lt;/span&gt;&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;fontSize=12;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.rds;fontFamily=Helvetica;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);labelPadding=0;overflow=hidden;container=0;autosize=0;perimeter=rectanglePerimeter;connectable=1;snapToPoint=0;fixDash=0;backgroundOutline=0;fixedWidth=0;labelBorderColor=none;html=1;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="532" y="1033" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=blockThin;startFill=1;strokeColor=#007FFF;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="D-ZPtWE5nnF1FU1rqcul-19" target="BjjqDEXEyI0UGoOlh6iu-9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="492" y="1210" />
              <mxPoint x="492" y="1210" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-23" value="&lt;div&gt;Update index;&lt;/div&gt;&lt;div&gt;&amp;nbsp;execute search&amp;nbsp;&lt;/div&gt;&lt;div&gt;[REST, HTTP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="BjjqDEXEyI0UGoOlh6iu-33">
          <mxGeometry x="-0.3388" y="1" relative="1" as="geometry">
            <mxPoint x="22" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-36" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#007FFF;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="D-ZPtWE5nnF1FU1rqcul-19" target="BjjqDEXEyI0UGoOlh6iu-26">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="262" y="1040" as="targetPoint" />
            <Array as="points">
              <mxPoint x="492" y="1120" />
              <mxPoint x="492" y="1073" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-39" value="&lt;div&gt;Retreive created/updated&lt;/div&gt;&lt;div&gt;&amp;nbsp;book data&lt;/div&gt;&lt;div&gt;[PostgreSQL, TCP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;fillColor=none;gradientColor=none;" connectable="0" vertex="1" parent="BjjqDEXEyI0UGoOlh6iu-36">
          <mxGeometry x="-0.072" y="1" relative="1" as="geometry">
            <mxPoint x="-22" y="-6" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-30" value="&lt;div&gt;&lt;b&gt;Route53 - DNS&lt;/b&gt;&lt;/div&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.route_53;shadow=0;labelBackgroundColor=default;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="930" y="45" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=blockThin;endFill=1;strokeColor=#007FFF;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="D-ZPtWE5nnF1FU1rqcul-19" target="BjjqDEXEyI0UGoOlh6iu-5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="612" y="1160" />
              <mxPoint x="612" y="1160" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-35" value="&lt;div&gt;&lt;b&gt;Listen to:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;book-created&amp;nbsp;&lt;/div&gt;&lt;div&gt;book-updated&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=9;fontColor=#666666;" connectable="0" vertex="1" parent="BjjqDEXEyI0UGoOlh6iu-34">
          <mxGeometry x="-0.1207" y="1" relative="1" as="geometry">
            <mxPoint x="-66" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-37" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#007FFF;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=blockThin;endFill=1;startArrow=blockThin;startFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="D-ZPtWE5nnF1FU1rqcul-12" target="BjjqDEXEyI0UGoOlh6iu-26">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="572" y="980" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-38" value="&lt;div&gt;CRUD Book Ops&lt;/div&gt;&lt;div&gt;[TCP/ IP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;fillColor=none;gradientColor=none;" connectable="0" vertex="1" parent="BjjqDEXEyI0UGoOlh6iu-37">
          <mxGeometry x="-0.1358" relative="1" as="geometry">
            <mxPoint x="7" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-40" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#007FFF;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="D-ZPtWE5nnF1FU1rqcul-12" target="BjjqDEXEyI0UGoOlh6iu-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="662" y="880" as="targetPoint" />
            <Array as="points">
              <mxPoint x="552" y="940" />
              <mxPoint x="552" y="940" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-41" value="&lt;div&gt;&lt;b&gt;Emit:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;book-created&lt;/div&gt;&lt;div&gt;book-updated&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;fillColor=none;gradientColor=none;" connectable="0" vertex="1" parent="BjjqDEXEyI0UGoOlh6iu-40">
          <mxGeometry x="-0.3536" y="-1" relative="1" as="geometry">
            <mxPoint x="-18" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-39" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;jumpStyle=arc;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="D-ZPtWE5nnF1FU1rqcul-6" target="w9c70J-v6dkkHXrrB1TU-29">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="732" y="590" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-40" value="&lt;div&gt;Get user subscription&lt;/div&gt;&lt;div&gt;[Redis, TCP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-39">
          <mxGeometry x="0.4185" y="1" relative="1" as="geometry">
            <mxPoint x="-198" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-44" value="&lt;div&gt;&lt;b&gt;Book Render Worker&lt;/b&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;[ASG]&lt;/font&gt;" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.groupCenter;grIcon=mxgraph.aws4.group_auto_scaling_group;grStroke=1;strokeColor=#D86613;fillColor=#FFE6CC;verticalAlign=top;align=center;dashed=1;spacingTop=25;" vertex="1" parent="1">
          <mxGeometry x="452" y="620" width="160" height="160" as="geometry" />
        </mxCell>
        <mxCell id="BjjqDEXEyI0UGoOlh6iu-45" value="&lt;div style=&quot;line-height: 100%;&quot;&gt;&lt;div&gt;&lt;font style=&quot;line-height: 100%; font-size: 10px;&quot;&gt;Converts EPUB/PDF&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;line-height: 100%; font-size: 10px;&quot;&gt;to HTML; Stores in S3&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ecs;" vertex="1" parent="BjjqDEXEyI0UGoOlh6iu-44">
          <mxGeometry x="55" y="65" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-4" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="BjjqDEXEyI0UGoOlh6iu-45" target="BjjqDEXEyI0UGoOlh6iu-2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="415" y="710" />
              <mxPoint x="415" y="750" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-5" value="&lt;div&gt;Store converted&amp;nbsp;&lt;/div&gt;&lt;div&gt;pages&lt;/div&gt;&lt;div&gt;[REST, HTTP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="D-ZPtWE5nnF1FU1rqcul-4">
          <mxGeometry x="0.2751" y="1" relative="1" as="geometry">
            <mxPoint x="-3" y="-18" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-9" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="D-ZPtWE5nnF1FU1rqcul-8" target="D-ZPtWE5nnF1FU1rqcul-7">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="172" y="420" />
              <mxPoint x="172" y="545" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="L6BFTpbxXpTXNBwRty-M-2" value="&lt;div&gt;GET /read?&lt;/div&gt;&lt;div&gt;bookId={id}&amp;amp;&lt;/div&gt;&lt;div&gt;chapter={n}&lt;/div&gt;&lt;div&gt;[REST, HTTP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="D-ZPtWE5nnF1FU1rqcul-9">
          <mxGeometry x="0.0276" relative="1" as="geometry">
            <mxPoint x="-120" y="125" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-54" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#009900;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="w9c70J-v6dkkHXrrB1TU-44" target="L6BFTpbxXpTXNBwRty-M-7">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="800" y="260" />
              <mxPoint x="972" y="260" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-59" value="&lt;div&gt;&amp;nbsp; Redirect for sign-in; sign-up;&lt;/div&gt;&lt;div&gt;token refresh;&amp;nbsp; /oauth2/*&lt;/div&gt;&lt;div&gt;[REST, HTTP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-54">
          <mxGeometry x="0.3363" relative="1" as="geometry">
            <mxPoint x="-82" y="-39" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-56" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;jumpStyle=arc;" edge="1" parent="1" source="D-ZPtWE5nnF1FU1rqcul-8" target="L6BFTpbxXpTXNBwRty-M-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1102" y="420" />
              <mxPoint x="1102" y="900" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-57" value="&lt;div&gt;CRUD /users&lt;/div&gt;&lt;div&gt;[REST, HTTP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-56">
          <mxGeometry x="-0.2058" relative="1" as="geometry">
            <mxPoint y="8" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="b1-2xez54B6RKr7vkK9P-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;jumpStyle=arc;startSize=5;endArrow=blockThin;endFill=1;endSize=5;sourcePerimeterSpacing=3;targetPerimeterSpacing=3;" edge="1" parent="1" source="D-ZPtWE5nnF1FU1rqcul-8" target="L6BFTpbxXpTXNBwRty-M-7">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="850" y="440" />
              <mxPoint x="850" y="500" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="b1-2xez54B6RKr7vkK9P-2" value="&lt;div&gt;OIDC auth;&lt;/div&gt;&lt;div&gt;JWKS fetch&lt;/div&gt;&lt;div&gt;[HTTPS]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;fillColor=none;gradientColor=none;" connectable="0" vertex="1" parent="b1-2xez54B6RKr7vkK9P-1">
          <mxGeometry x="-0.0701" y="1" relative="1" as="geometry">
            <mxPoint y="8" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-8" value="&lt;div&gt;&lt;b&gt;ALB&lt;/b&gt;&lt;/div&gt;&lt;div&gt;JWT validation;&amp;nbsp;&lt;/div&gt;&lt;div&gt;TLS offloading;&lt;/div&gt;&lt;div&gt;request routing&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,38],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elastic_load_balancing;fontFamily=Helvetica;labelBackgroundColor=none;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="690" y="380" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-10" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="D-ZPtWE5nnF1FU1rqcul-6" target="BjjqDEXEyI0UGoOlh6iu-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-11" value="&lt;div&gt;Get book chapter&lt;/div&gt;&lt;div&gt;[REST, HTTP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="D-ZPtWE5nnF1FU1rqcul-10">
          <mxGeometry x="-0.2812" relative="1" as="geometry">
            <mxPoint y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-25" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#007FFF;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="D-ZPtWE5nnF1FU1rqcul-8" target="D-ZPtWE5nnF1FU1rqcul-13">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="734" y="329" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="152" y="420" />
              <mxPoint x="152" y="990" />
            </Array>
            <mxPoint x="289" y="931" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="D-ZPtWE5nnF1FU1rqcul-24" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="D-ZPtWE5nnF1FU1rqcul-8" target="D-ZPtWE5nnF1FU1rqcul-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="712" y="420" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="132" y="420" />
              <mxPoint x="132" y="1180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="L6BFTpbxXpTXNBwRty-M-3" value="&lt;div&gt;GET /search;&lt;/div&gt;&lt;div&gt;GET /suggest&lt;/div&gt;&lt;div&gt;[REST, HTTP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="D-ZPtWE5nnF1FU1rqcul-24">
          <mxGeometry x="0.2741" y="-1" relative="1" as="geometry">
            <mxPoint x="52" y="387" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L6BFTpbxXpTXNBwRty-M-4" value="&lt;div&gt;CRUD /books&lt;/div&gt;&lt;div&gt;[REST, HTTP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="D-ZPtWE5nnF1FU1rqcul-24">
          <mxGeometry x="-0.4812" relative="1" as="geometry">
            <mxPoint x="-123" y="569" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="b1-2xez54B6RKr7vkK9P-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;jumpStyle=arc;startSize=5;endArrow=blockThin;endFill=1;endSize=5;sourcePerimeterSpacing=3;targetPerimeterSpacing=3;" edge="1" parent="1" source="L6BFTpbxXpTXNBwRty-M-7" target="b1-2xez54B6RKr7vkK9P-16">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1457" y="640" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1050" y="520" />
              <mxPoint x="1050" y="600" />
              <mxPoint x="1400" y="600" />
              <mxPoint x="1400" y="640" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="b1-2xez54B6RKr7vkK9P-7" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;jumpStyle=arc;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;startSize=5;endArrow=blockThin;endFill=1;endSize=5;sourcePerimeterSpacing=3;targetPerimeterSpacing=3;" edge="1" parent="1" source="L6BFTpbxXpTXNBwRty-M-7" target="b1-2xez54B6RKr7vkK9P-4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1050" y="520" />
              <mxPoint x="1050" y="600" />
              <mxPoint x="1400" y="600" />
              <mxPoint x="1400" y="780" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="L6BFTpbxXpTXNBwRty-M-7" value="&lt;div&gt;&lt;b&gt;Cognito User-Pool&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Auth Service&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cognito;fontFamily=Helvetica;labelBackgroundColor=default;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="930" y="460" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-24" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#009900;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=none;endFill=0;startArrow=blockThin;startFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;jumpStyle=arc;" edge="1" parent="1" source="w9c70J-v6dkkHXrrB1TU-29" target="w9c70J-v6dkkHXrrB1TU-21">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1200" y="640" as="targetPoint" />
            <Array as="points">
              <mxPoint x="820" y="640" />
              <mxPoint x="820" y="580" />
              <mxPoint x="1090" y="580" />
              <mxPoint x="1090" y="520" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-27" value="&lt;div&gt;Get user subscribtion&lt;/div&gt;&lt;div&gt;[Redis, TCP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-24">
          <mxGeometry x="0.3801" relative="1" as="geometry">
            <mxPoint x="-213" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L6BFTpbxXpTXNBwRty-M-8" value="&lt;div&gt;&lt;b&gt;User Service&lt;/b&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;[ASG]&lt;/font&gt;" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.groupCenter;grIcon=mxgraph.aws4.group_auto_scaling_group;grStroke=1;strokeColor=#D86613;fillColor=#FFE6CC;verticalAlign=top;align=center;dashed=1;spacingTop=25;" vertex="1" parent="1">
          <mxGeometry x="890" y="790" width="160" height="160" as="geometry" />
        </mxCell>
        <mxCell id="L6BFTpbxXpTXNBwRty-M-9" value="&lt;div style=&quot;line-height: 100%;&quot;&gt;&lt;div&gt;&lt;font style=&quot;line-height: 100%; font-size: 10px;&quot;&gt;User CRUD operations;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;line-height: 100%; font-size: 10px;&quot;&gt;profile data, subscribtion&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ecs;" vertex="1" parent="L6BFTpbxXpTXNBwRty-M-8">
          <mxGeometry x="55" y="70" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-1" value="&lt;div&gt;&lt;b&gt;SQS&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Job Queue&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="492" y="460" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="b1-2xez54B6RKr7vkK9P-11" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;jumpStyle=arc;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;startSize=5;endArrow=blockThin;endFill=1;endSize=5;sourcePerimeterSpacing=3;targetPerimeterSpacing=3;" edge="1" parent="1" source="BjjqDEXEyI0UGoOlh6iu-5" target="b1-2xez54B6RKr7vkK9P-10">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="810" y="1210" />
              <mxPoint x="810" y="1210" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="b1-2xez54B6RKr7vkK9P-12" value="&lt;div&gt;&amp;nbsp;Listen to&amp;nbsp;&lt;/div&gt;&lt;div&gt;events&amp;nbsp;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="b1-2xez54B6RKr7vkK9P-11">
          <mxGeometry x="-0.0031" y="-2" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-2" value="&lt;div&gt;&lt;b&gt;Event&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Bridge&lt;/b&gt;&lt;/div&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#FFFFFF;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.eventbridge;" vertex="1" parent="1">
          <mxGeometry x="691" y="991" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=39;exitPerimeter=0;strokeColor=#009900;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="w9c70J-v6dkkHXrrB1TU-7" target="L6BFTpbxXpTXNBwRty-M-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="910" y="760" />
              <mxPoint x="972" y="760" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-16" value="&lt;div&gt;POST /users/&lt;/div&gt;&lt;div&gt;[REST, HTTP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-10">
          <mxGeometry x="-0.5745" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-7" value="&lt;div&gt;&lt;b&gt;Lambda&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Post-Sign-Up&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="870" y="620" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-9" value="&lt;div&gt;Lambda&amp;nbsp;Invoke API&lt;/div&gt;&lt;div&gt;[HTTPS]&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=39;entryPerimeter=0;strokeColor=#009900;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=none;endFill=0;startArrow=blockThin;startFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="w9c70J-v6dkkHXrrB1TU-7" target="L6BFTpbxXpTXNBwRty-M-7">
          <mxGeometry x="0.5614" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="911" y="600" />
              <mxPoint x="970" y="600" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-11" value="&lt;div&gt;&lt;b&gt;Lambda&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Post-Confirmation&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="990" y="620" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-13" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=39;entryPerimeter=0;strokeColor=#009900;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=none;endFill=0;sourcePerimeterSpacing=6;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="L6BFTpbxXpTXNBwRty-M-8" target="w9c70J-v6dkkHXrrB1TU-11">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="972" y="760" />
              <mxPoint x="1030" y="760" />
            </Array>
            <mxPoint x="980" y="770" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-17" value="&lt;div&gt;PATCH /users/:id&lt;/div&gt;&lt;div&gt;[REST, HTTP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-13">
          <mxGeometry x="0.5088" y="-1" relative="1" as="geometry">
            <mxPoint x="5" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-20" value="&lt;div&gt;RDS&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;Users DB&lt;/span&gt;&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;fontSize=12;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.rds;fontFamily=Helvetica;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);labelPadding=0;overflow=hidden;container=0;autosize=0;perimeter=rectanglePerimeter;connectable=1;snapToPoint=0;fixDash=0;backgroundOutline=0;fixedWidth=0;labelBorderColor=none;html=1;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="930" y="1010" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-21" value="&lt;div&gt;&lt;b&gt;Lambda&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Pre-Token-Generation&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="1130" y="460" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-25" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#009900;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;startArrow=blockThin;startFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="L6BFTpbxXpTXNBwRty-M-8" target="w9c70J-v6dkkHXrrB1TU-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-26" value="CRUD User Ops&lt;br&gt;[Postgres, TCP]" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-25">
          <mxGeometry x="0.044" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-28" value="Stripe API" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=data:image/svg+xml,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDAiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNMCAwaDQwMHY0MDBIMHoiIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2MzViZmYiLz48cGF0aCBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojZmZmIiBkPSJNMTg0LjQgMTU1LjVjMC05LjQgNy43LTEzLjEgMjAuNS0xMy4xIDE4LjQgMCA0MS42IDUuNiA2MCAxNS41di01Ni44QzI0NC44IDkzLjEgMjI1IDkwIDIwNSA5MGMtNDkuMSAwLTgxLjcgMjUuNi04MS43IDY4LjQgMCA2Ni43IDkxLjkgNTYuMSA5MS45IDg0LjkgMCAxMS4xLTkuNyAxNC43LTIzLjIgMTQuNy0yMC4xIDAtNDUuNy04LjItNjYtMTkuM3Y1Ny41YzIyLjUgOS43IDQ1LjIgMTMuOCA2NiAxMy44IDUwLjMgMCA4NC45LTI0LjkgODQuOS02OC4yLS40LTcyLTkyLjUtNTkuMi05Mi41LTg2LjN6Ii8+PC9zdmc+;fontStyle=1;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="1460" y="460" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-29" value="&lt;div&gt;&lt;b&gt;MemoryDB - Redis&lt;/b&gt;&lt;/div&gt;&lt;div&gt;UserSubscriptions Cache&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.memorydb_for_redis;fontFamily=Helvetica;labelBackgroundColor=default;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="690" y="620" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-31" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#009900;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="w9c70J-v6dkkHXrrB1TU-30" target="w9c70J-v6dkkHXrrB1TU-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-32" value="&lt;div&gt;Create&amp;nbsp;&lt;/div&gt;&lt;div&gt;checkout&amp;nbsp;&lt;/div&gt;&lt;div&gt;session&lt;/div&gt;&lt;div&gt;[REST, HTTPS]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-31">
          <mxGeometry x="0.1922" y="-1" relative="1" as="geometry">
            <mxPoint x="-12" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-34" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=39;exitPerimeter=0;strokeColor=#009900;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;jumpStyle=arc;" edge="1" parent="1" source="w9c70J-v6dkkHXrrB1TU-30" target="BjjqDEXEyI0UGoOlh6iu-5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1330" y="1140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-35" value="&lt;div&gt;&lt;b&gt;Emit event:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;subscription-updated&lt;/div&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-34">
          <mxGeometry x="-0.5989" y="1" relative="1" as="geometry">
            <mxPoint x="-1" y="-116" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-30" value="&lt;div&gt;&lt;b&gt;Lambda&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Payment Service&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="1290" y="460" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-36" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#009900;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;entryX=1;entryY=0.25;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="w9c70J-v6dkkHXrrB1TU-28" target="D-ZPtWE5nnF1FU1rqcul-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1480" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-60" value="&lt;div&gt;Payment result&lt;/div&gt;&lt;div&gt;&amp;nbsp;[webhook, HTTPS]&amp;nbsp;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-36">
          <mxGeometry x="0.069" y="1" relative="1" as="geometry">
            <mxPoint x="73" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-41" value="&lt;div&gt;Update user&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;subscribtion cache&amp;nbsp;&lt;/div&gt;&lt;div&gt;[Redis, TCP]&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#009900;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="L6BFTpbxXpTXNBwRty-M-8" target="w9c70J-v6dkkHXrrB1TU-29">
          <mxGeometry x="-0.1315" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="820" y="830" />
              <mxPoint x="820" y="680" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-43" value="" style="group;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;dashed=1;" connectable="0" vertex="1" parent="1">
          <mxGeometry x="590" y="20" width="280" height="130" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-44" value="&lt;b&gt;Clients&lt;/b&gt;" style="fillColor=none;strokeColor=#5A6C86;dashed=1;verticalAlign=top;fontStyle=0;fontColor=#5A6C86;whiteSpace=wrap;html=1;" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-43">
          <mxGeometry width="280" height="130" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-45" value="User" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=center;shape=mxgraph.office.devices.laptop;" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-43">
          <mxGeometry x="39.470000000000056" y="40" width="75" height="50" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-46" value="Admin" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=center;shape=mxgraph.office.devices.laptop;" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-43">
          <mxGeometry x="165.53" y="40" width="75" height="50" as="geometry" />
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-48" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;jumpStyle=arc;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="BjjqDEXEyI0UGoOlh6iu-3" target="BjjqDEXEyI0UGoOlh6iu-2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="112" y="240" />
              <mxPoint x="112" y="760" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="naRsf6B56AA05fiRLCLu-1" value="&lt;div&gt;Origin fetch&amp;nbsp;&lt;/div&gt;&lt;div&gt;on cacheâ€‘miss&lt;/div&gt;&lt;div&gt;[S3 REST, HTTPS]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;fillColor=none;gradientColor=none;" connectable="0" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-48">
          <mxGeometry x="0.9006" relative="1" as="geometry">
            <mxPoint x="12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-49" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="w9c70J-v6dkkHXrrB1TU-44" target="BjjqDEXEyI0UGoOlh6iu-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="b1-2xez54B6RKr7vkK9P-8" value="&lt;div&gt;WEB Requests&lt;/div&gt;&lt;div&gt;[REST, HTTPS]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-49">
          <mxGeometry x="-0.066" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-50" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;dashed=1;startArrow=blockThin;startFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="w9c70J-v6dkkHXrrB1TU-44" target="BjjqDEXEyI0UGoOlh6iu-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="naRsf6B56AA05fiRLCLu-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#007FFF;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;startSize=5;endArrow=blockThin;endFill=1;endSize=5;sourcePerimeterSpacing=3;targetPerimeterSpacing=3;jumpStyle=arc;" edge="1" parent="1" source="naRsf6B56AA05fiRLCLu-2" target="BjjqDEXEyI0UGoOlh6iu-3">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="652" y="830" />
              <mxPoint x="652" y="260" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="naRsf6B56AA05fiRLCLu-10" value="&lt;div&gt;CreateInvalidation&lt;/div&gt;&lt;div&gt;[REST, HTTPS]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;fillColor=none;gradientColor=none;" connectable="0" vertex="1" parent="naRsf6B56AA05fiRLCLu-9">
          <mxGeometry x="0.0217" y="-3" relative="1" as="geometry">
            <mxPoint y="21" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="naRsf6B56AA05fiRLCLu-2" value="&lt;div&gt;&lt;b&gt;Lambda&lt;/b&gt;&lt;/div&gt;&lt;div&gt;CacheInvalidate&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="532" y="810" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="naRsf6B56AA05fiRLCLu-3" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#007FFF;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="naRsf6B56AA05fiRLCLu-2" target="BjjqDEXEyI0UGoOlh6iu-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="826" y="930" as="targetPoint" />
            <Array as="points">
              <mxPoint x="652" y="870" />
              <mxPoint x="652" y="870" />
            </Array>
            <mxPoint x="522" y="930" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="naRsf6B56AA05fiRLCLu-4" value="&lt;div&gt;&lt;b&gt;Listen to:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;book-deleted&lt;/div&gt;&lt;div&gt;book-updated&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;fillColor=none;gradientColor=none;" connectable="0" vertex="1" parent="naRsf6B56AA05fiRLCLu-3">
          <mxGeometry x="-0.3536" y="-1" relative="1" as="geometry">
            <mxPoint x="9" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="naRsf6B56AA05fiRLCLu-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#007FFF;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;startSize=5;endArrow=blockThin;endFill=1;endSize=5;sourcePerimeterSpacing=3;targetPerimeterSpacing=3;" edge="1" parent="1" source="naRsf6B56AA05fiRLCLu-2" target="BjjqDEXEyI0UGoOlh6iu-2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="432" y="850" />
              <mxPoint x="432" y="780" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="naRsf6B56AA05fiRLCLu-6" value="&lt;div&gt;Delete rendered&lt;/div&gt;&lt;div&gt;pages&lt;/div&gt;&lt;div&gt;[REST, HTTP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;fillColor=none;gradientColor=none;" connectable="0" vertex="1" parent="naRsf6B56AA05fiRLCLu-5">
          <mxGeometry x="-0.4803" y="-1" relative="1" as="geometry">
            <mxPoint x="15" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-55" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#009900;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;endArrow=blockThin;endFill=1;sourcePerimeterSpacing=3;startSize=5;endSize=5;targetPerimeterSpacing=3;" edge="1" parent="1" source="D-ZPtWE5nnF1FU1rqcul-8" target="w9c70J-v6dkkHXrrB1TU-30">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1330" y="420" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="w9c70J-v6dkkHXrrB1TU-58" value="&lt;div&gt;POST /payments/create-session&lt;/div&gt;&lt;div&gt;[REST, HTTP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="w9c70J-v6dkkHXrrB1TU-55">
          <mxGeometry x="0.7424" y="1" relative="1" as="geometry">
            <mxPoint x="37" y="15" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="b1-2xez54B6RKr7vkK9P-4" value="Facebook" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn1.iconfinder.com/data/icons/logotypes/32/square-facebook-128.png;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1460" y="740" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="b1-2xez54B6RKr7vkK9P-14" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;jumpStyle=arc;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;startSize=5;endArrow=blockThin;endFill=1;endSize=5;sourcePerimeterSpacing=3;targetPerimeterSpacing=3;" edge="1" parent="1" source="b1-2xez54B6RKr7vkK9P-10" target="b1-2xez54B6RKr7vkK9P-13">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1090" y="1210" />
              <mxPoint x="1090" y="1210" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="b1-2xez54B6RKr7vkK9P-15" value="&lt;div&gt;Send email via SES&lt;/div&gt;&lt;div&gt;[HTTPS API]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=9;fontColor=#666666;labelBackgroundColor=default;" connectable="0" vertex="1" parent="b1-2xez54B6RKr7vkK9P-14">
          <mxGeometry x="-0.125" relative="1" as="geometry">
            <mxPoint x="7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="b1-2xez54B6RKr7vkK9P-10" value="&lt;div&gt;&lt;b&gt;Lambda&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Notifications Manager&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="930" y="1169" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="b1-2xez54B6RKr7vkK9P-13" value="&lt;div&gt;&lt;b&gt;SES&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Email Provider&lt;/div&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#4D72F3;gradientDirection=north;fillColor=#3334B9;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.simple_email_service;fontFamily=Helvetica;labelBackgroundColor=default;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="1130" y="1169" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="b1-2xez54B6RKr7vkK9P-16" value="Google" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;editableCssRules=.*;image=data:image/svg+xml,PHN2ZyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMjU1Ljg3ODAwNTk4MTQ0NTMgMjYxLjEwMDAwNjEwMzUxNTYiIGhlaWdodD0iNzk3LjI1MTkyNzAzMzYzNTQiIHdpZHRoPSI3ODEuMzA2ODg4NDkyOTYyOCI+PHBhdGggZmlsbD0iIzQyODVGNCIgZD0iTTI1NS44NzggMTMzLjQ1MWMwLTEwLjczNC0uODcxLTE4LjU2Ny0yLjc1Ni0yNi42OUgxMzAuNTV2NDguNDQ4aDcxLjk0N2MtMS40NSAxMi4wNC05LjI4MyAzMC4xNzItMjYuNjkgNDIuMzU2bC0uMjQ0IDEuNjIyIDM4Ljc1NSAzMC4wMjMgMi42ODUuMjY4YzI0LjY1OS0yMi43NzQgMzguODc1LTU2LjI4MiAzOC44NzUtOTYuMDI3Ii8+PHBhdGggZmlsbD0iIzM0QTg1MyIgZD0iTTEzMC41NSAyNjEuMWMzNS4yNDggMCA2NC44MzktMTEuNjA1IDg2LjQ1My0zMS42MjJsLTQxLjE5Ni0zMS45MTNjLTExLjAyNCA3LjY4OC0yNS44MiAxMy4wNTUtNDUuMjU3IDEzLjA1NS0zNC41MjMgMC02My44MjQtMjIuNzczLTc0LjI2OS01NC4yNWwtMS41MzEuMTMtNDAuMjk4IDMxLjE4Ny0uNTI3IDEuNDY1QzM1LjM5MyAyMzEuNzk4IDc5LjQ5IDI2MS4xIDEzMC41NSAyNjEuMSIvPjxwYXRoIGZpbGw9IiNGQkJDMDUiIGQ9Ik01Ni4yODEgMTU2LjM3Yy0yLjc1Ni04LjEyMy00LjM1MS0xNi44MjctNC4zNTEtMjUuODIgMC04Ljk5NCAxLjU5NS0xNy42OTcgNC4yMDYtMjUuODJsLS4wNzMtMS43M0wxNS4yNiA3MS4zMTJsLTEuMzM1LjYzNUM1LjA3NyA4OS42NDQgMCAxMDkuNTE3IDAgMTMwLjU1czUuMDc3IDQwLjkwNSAxMy45MjUgNTguNjAybDQyLjM1Ni0zMi43ODIiLz48cGF0aCBmaWxsPSIjRUI0MzM1IiBkPSJNMTMwLjU1IDUwLjQ3OWMyNC41MTQgMCA0MS4wNSAxMC41ODkgNTAuNDc5IDE5LjQzOGwzNi44NDQtMzUuOTc0QzE5NS4yNDUgMTIuOTEgMTY1Ljc5OCAwIDEzMC41NSAwIDc5LjQ5IDAgMzUuMzkzIDI5LjMwMSAxMy45MjUgNzEuOTQ3bDQyLjIxMSAzMi43ODNjMTAuNTktMzEuNDc3IDM5Ljg5MS01NC4yNTEgNzQuNDE0LTU0LjI1MSIvPjwvc3ZnPg==;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1460" y="600" width="80" height="81.64" as="geometry" />
        </mxCell>
        <mxCell id="d4cCNtb2LgJLWvHVJV6e-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#009900;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;resizable=0;startSize=5;endArrow=blockThin;endFill=1;endSize=5;sourcePerimeterSpacing=3;targetPerimeterSpacing=3;" edge="1" parent="1" source="w9c70J-v6dkkHXrrB1TU-44" target="w9c70J-v6dkkHXrrB1TU-28">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="840" y="200" />
              <mxPoint x="1520" y="200" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d4cCNtb2LgJLWvHVJV6e-2" value="&lt;div&gt;Redirect to Stripe Checkout&lt;/div&gt;&lt;div&gt;[HTTPS]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;fillColor=none;gradientColor=none;" connectable="0" vertex="1" parent="d4cCNtb2LgJLWvHVJV6e-1">
          <mxGeometry x="-0.1944" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="tIX2EYXp_MlV2zWhIma0" name="sign-up">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="XkBCAVtod4Ep65l_DqWw-3" value="" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=10;fontColor=#333333;labelBackgroundColor=default;resizable=1;fillColor=#E6E6E6;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="177.5" y="240" width="5" height="480" as="geometry" />
        </mxCell>
        <mxCell id="XkBCAVtod4Ep65l_DqWw-4" value="" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=10;fontColor=#333333;labelBackgroundColor=default;resizable=1;fillColor=#E6E6E6;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="397.5" y="240" width="5" height="480" as="geometry" />
        </mxCell>
        <mxCell id="XkBCAVtod4Ep65l_DqWw-9" value="" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=10;fontColor=#333333;labelBackgroundColor=default;resizable=1;fillColor=#E6E6E6;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="497.5" y="240" width="5" height="480" as="geometry" />
        </mxCell>
        <mxCell id="XkBCAVtod4Ep65l_DqWw-10" value="" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=10;fontColor=#333333;labelBackgroundColor=default;resizable=1;fillColor=#E6E6E6;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="57.5" y="240" width="5" height="480" as="geometry" />
        </mxCell>
        <mxCell id="XkBCAVtod4Ep65l_DqWw-11" value="GET /signup" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);endArrow=blockThin;endFill=1;startSize=4;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="XkBCAVtod4Ep65l_DqWw-26" target="XkBCAVtod4Ep65l_DqWw-43">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="135" y="300" as="sourcePoint" />
            <mxPoint x="235" y="300" as="targetPoint" />
            <Array as="points">
              <mxPoint x="150" y="290" />
              <mxPoint x="150" y="290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="XkBCAVtod4Ep65l_DqWw-12" value="&lt;div&gt;&amp;nbsp;Cognito Hosted UI&amp;nbsp;&lt;/div&gt;&lt;div&gt;GET /signup&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;fillColor=none;gradientColor=none;spacing=2;" connectable="0" vertex="1" parent="XkBCAVtod4Ep65l_DqWw-11">
          <mxGeometry x="-0.1516" y="1" relative="1" as="geometry">
            <mxPoint x="8" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XkBCAVtod4Ep65l_DqWw-26" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=none;align=center;verticalAlign=middle;spacingTop=0;spacing=8;arcSize=5;absoluteArcSize=0;fontFamily=Helvetica;fontSize=9;fontColor=light-dark(#4D4D4D,#EDEDED);labelBackgroundColor=none;resizable=1;fillColor=light-dark(#9ed062, #589916);fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="55" y="280" width="10" height="200" as="geometry" />
        </mxCell>
        <mxCell id="Ayhk4CDFYclJkH_MOdE0-7" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="Wmik7vJy4qOC4scdTqTr-11" target="Wmik7vJy4qOC4scdTqTr-11">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="387" y="350" as="sourcePoint" />
            <mxPoint x="387" y="380" as="targetPoint" />
            <Array as="points">
              <mxPoint x="650" y="390" />
              <mxPoint x="650" y="420" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Ayhk4CDFYclJkH_MOdE0-8" value="&lt;div&gt;create row in&lt;/div&gt;&lt;div&gt;&amp;nbsp;Users DB&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="Ayhk4CDFYclJkH_MOdE0-7">
          <mxGeometry x="-0.1064" relative="1" as="geometry">
            <mxPoint y="5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XkBCAVtod4Ep65l_DqWw-32" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);endArrow=blockThin;endFill=1;startSize=4;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="XkBCAVtod4Ep65l_DqWw-43" target="XkBCAVtod4Ep65l_DqWw-43">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="375" y="300" as="sourcePoint" />
            <mxPoint x="375" y="320" as="targetPoint" />
            <Array as="points">
              <mxPoint x="210" y="350" />
              <mxPoint x="210" y="370" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="XkBCAVtod4Ep65l_DqWw-33" value="Create user" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);fillColor=none;gradientColor=none;spacing=2;rounded=0;strokeColor=light-dark(#4D4D4D,#EDEDED);" connectable="0" vertex="1" parent="XkBCAVtod4Ep65l_DqWw-32">
          <mxGeometry x="-0.1516" y="1" relative="1" as="geometry">
            <mxPoint x="8" y="5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Wmik7vJy4qOC4scdTqTr-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="XkBCAVtod4Ep65l_DqWw-43" target="XkBCAVtod4Ep65l_DqWw-26">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="110" y="320" />
              <mxPoint x="110" y="320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Wmik7vJy4qOC4scdTqTr-2" value="&lt;div&gt;&amp;nbsp;200 OK&amp;nbsp;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="Wmik7vJy4qOC4scdTqTr-1">
          <mxGeometry x="0.0205" y="2" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Wmik7vJy4qOC4scdTqTr-6" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="XkBCAVtod4Ep65l_DqWw-43" target="Wmik7vJy4qOC4scdTqTr-5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="270" y="390" />
              <mxPoint x="270" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Wmik7vJy4qOC4scdTqTr-7" value="&lt;div&gt;Invoke&lt;/div&gt;&lt;div&gt;(RequestResponse)&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="Wmik7vJy4qOC4scdTqTr-6">
          <mxGeometry x="-0.0909" y="-1" relative="1" as="geometry">
            <mxPoint x="5" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4klbnuFRSVRC_wE2Irmw-4" value="&amp;nbsp;200 OK&amp;nbsp;" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="XkBCAVtod4Ep65l_DqWw-43" target="XkBCAVtod4Ep65l_DqWw-26">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="100" y="470" />
              <mxPoint x="100" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="XkBCAVtod4Ep65l_DqWw-43" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=none;align=center;verticalAlign=middle;spacingTop=0;spacing=8;arcSize=5;absoluteArcSize=0;fontFamily=Helvetica;fontSize=9;fontColor=light-dark(#4D4D4D,#EDEDED);labelBackgroundColor=none;resizable=1;fillColor=light-dark(#cc4450, #589916);fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="175" y="280" width="10" height="200" as="geometry" />
        </mxCell>
        <mxCell id="y4cf3JW9tgkIytYl-kf_-1" value="Browser" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=center;shape=mxgraph.office.devices.laptop;aspect=fixed;fontStyle=1;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="40" y="186.66000000000003" width="40" height="26.67" as="geometry" />
        </mxCell>
        <mxCell id="EEK2cl9CnUxXXHxC5kc8-1" value="&lt;span&gt;Cognito&lt;/span&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=8;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cognito;fontFamily=Helvetica;labelBackgroundColor=default;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="160" y="180" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_-Ta_wHWf7oAnNcGWkGW-1" value="User Service" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=8;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ecs;" vertex="1" parent="1">
          <mxGeometry x="600" y="180" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ISn-6vAQnGDzt1AYON8T-1" value="&lt;div&gt;Post-Sign-Up&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=8;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;resizable=1;spacing=0;" vertex="1" parent="1">
          <mxGeometry x="280" y="180" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ISn-6vAQnGDzt1AYON8T-2" value="&lt;div&gt;Post-Confirmation&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=8;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="380" y="180" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ayhk4CDFYclJkH_MOdE0-1" value="&lt;div&gt;Pre-Token-Generation&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=8;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="480" y="180.00000000000003" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ayhk4CDFYclJkH_MOdE0-2" value="&lt;div&gt;UserSubscriptions&lt;/div&gt;" style="sketch=0;points=[[0,0,0,0,0],[0,0.25,0,0,0],[0,0.5,0,0,0],[0,0.75,0,0,0],[0,1,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.5,1,0,0,39],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0,0,0,0],[1,0.25,0,0,0],[1,0.5,0,0,0],[1,0.75,0,0,0],[1,1,0,0,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=8;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.memorydb_for_redis;fontFamily=Helvetica;labelBackgroundColor=default;resizable=1;" vertex="1" parent="1">
          <mxGeometry x="720" y="180" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ayhk4CDFYclJkH_MOdE0-3" value="" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=light-dark(#b6ddf9, #ededed);endArrow=blockThin;endFill=1;startSize=4;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="XkBCAVtod4Ep65l_DqWw-26" target="XkBCAVtod4Ep65l_DqWw-43">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="76.5" y="310" as="sourcePoint" />
            <mxPoint x="222.5" y="310" as="targetPoint" />
            <Array as="points">
              <mxPoint x="90" y="350" />
              <mxPoint x="90" y="350" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Ayhk4CDFYclJkH_MOdE0-4" value="&lt;div&gt;&amp;nbsp;Submit form&amp;nbsp;&lt;/div&gt;&lt;div&gt;POST /signup&lt;/div&gt;&lt;div&gt;[HTTPS]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=default;fillColor=none;gradientColor=none;spacing=2;" connectable="0" vertex="1" parent="Ayhk4CDFYclJkH_MOdE0-3">
          <mxGeometry x="-0.1516" y="1" relative="1" as="geometry">
            <mxPoint x="8" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Wmik7vJy4qOC4scdTqTr-4" value="" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=10;fontColor=#333333;labelBackgroundColor=default;resizable=1;fillColor=#E6E6E6;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="297.5" y="240" width="5" height="480" as="geometry" />
        </mxCell>
        <mxCell id="Wmik7vJy4qOC4scdTqTr-8" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="Wmik7vJy4qOC4scdTqTr-5" target="Wmik7vJy4qOC4scdTqTr-11">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="373" y="390" as="targetPoint" />
            <Array as="points">
              <mxPoint x="540" y="390" />
              <mxPoint x="540" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Wmik7vJy4qOC4scdTqTr-12" value="&lt;div&gt;POST /internal/users&lt;/div&gt;&lt;div&gt;[REST, HTTP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="Wmik7vJy4qOC4scdTqTr-8">
          <mxGeometry x="-0.0738" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Wmik7vJy4qOC4scdTqTr-16" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="Wmik7vJy4qOC4scdTqTr-5" target="XkBCAVtod4Ep65l_DqWw-43">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="270" y="420" />
              <mxPoint x="270" y="420" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Wmik7vJy4qOC4scdTqTr-17" value="&amp;nbsp;200 JSON&amp;nbsp;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="Wmik7vJy4qOC4scdTqTr-16">
          <mxGeometry x="0.0714" relative="1" as="geometry">
            <mxPoint x="6" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Wmik7vJy4qOC4scdTqTr-5" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=none;align=center;verticalAlign=middle;spacingTop=0;spacing=16;arcSize=5;absoluteArcSize=0;fontFamily=Helvetica;fontSize=9;fontColor=light-dark(#FFFFFF,#EDEDED);labelBackgroundColor=none;resizable=1;fillColor=light-dark(#dd782d, #69aef2);fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="295" y="380" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Wmik7vJy4qOC4scdTqTr-10" value="" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=10;fontColor=#333333;labelBackgroundColor=default;resizable=1;fillColor=#E6E6E6;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="617.5" y="240" width="5" height="480" as="geometry" />
        </mxCell>
        <mxCell id="Wmik7vJy4qOC4scdTqTr-11" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=none;align=center;verticalAlign=middle;spacingTop=0;spacing=16;arcSize=5;absoluteArcSize=0;fontFamily=Helvetica;fontSize=9;fontColor=light-dark(#FFFFFF,#EDEDED);labelBackgroundColor=none;resizable=1;fillColor=light-dark(#69AEF2,#69AEF2);fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="615" y="380" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Wmik7vJy4qOC4scdTqTr-13" value="" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=10;fontColor=#333333;labelBackgroundColor=default;resizable=1;fillColor=#E6E6E6;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="737.5" y="240" width="5" height="480" as="geometry" />
        </mxCell>
        <mxCell id="Wmik7vJy4qOC4scdTqTr-14" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="Wmik7vJy4qOC4scdTqTr-11" target="Wmik7vJy4qOC4scdTqTr-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="370" y="390" as="sourcePoint" />
            <mxPoint x="676" y="390" as="targetPoint" />
            <Array as="points">
              <mxPoint x="320" y="420" />
              <mxPoint x="320" y="420" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Wmik7vJy4qOC4scdTqTr-15" value="&amp;nbsp; 201 Created&amp;nbsp;&amp;nbsp;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="Wmik7vJy4qOC4scdTqTr-14">
          <mxGeometry x="-0.0738" relative="1" as="geometry">
            <mxPoint x="-21" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4klbnuFRSVRC_wE2Irmw-2" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);endArrow=blockThin;endFill=1;startSize=4;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="XkBCAVtod4Ep65l_DqWw-43" target="XkBCAVtod4Ep65l_DqWw-43">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="200" y="350" as="sourcePoint" />
            <mxPoint x="200" y="370" as="targetPoint" />
            <Array as="points">
              <mxPoint x="223" y="440" />
              <mxPoint x="223" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4klbnuFRSVRC_wE2Irmw-3" value="&lt;div&gt;Send confirmation&lt;/div&gt;&lt;div&gt;email (SES)&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);fillColor=none;gradientColor=none;spacing=2;rounded=0;strokeColor=light-dark(#4D4D4D,#EDEDED);" connectable="0" vertex="1" parent="4klbnuFRSVRC_wE2Irmw-2">
          <mxGeometry x="-0.1516" y="1" relative="1" as="geometry">
            <mxPoint x="8" y="8" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-4" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="xvScfO1UVzyOCzWlIA2Z-1" target="xvScfO1UVzyOCzWlIA2Z-3">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="150" y="560" />
              <mxPoint x="150" y="560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-5" value="&lt;div&gt;Verify email&lt;/div&gt;&lt;div&gt;&amp;nbsp;GET /confirm?code=X&amp;nbsp;&lt;/div&gt;&lt;div&gt;[HTTPS]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="xvScfO1UVzyOCzWlIA2Z-4">
          <mxGeometry x="-0.1098" y="1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-23" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="xvScfO1UVzyOCzWlIA2Z-1" target="xvScfO1UVzyOCzWlIA2Z-3">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="90" y="660" />
              <mxPoint x="90" y="660" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-24" value="&lt;div&gt;&amp;nbsp;POST /oauth2/token&amp;nbsp;&lt;/div&gt;[HTTPS]" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="xvScfO1UVzyOCzWlIA2Z-23">
          <mxGeometry x="-0.2305" y="-1" relative="1" as="geometry">
            <mxPoint x="11" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-1" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=none;align=center;verticalAlign=middle;spacingTop=0;spacing=8;arcSize=5;absoluteArcSize=0;fontFamily=Helvetica;fontSize=9;fontColor=light-dark(#4D4D4D,#EDEDED);labelBackgroundColor=none;resizable=1;fillColor=light-dark(#9ed062, #589916);fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="55" y="540" width="10" height="160" as="geometry" />
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-2" value="Sign-up" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);width=70;height=20;dashed=1;strokeColor=#666666;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="250" width="720" height="240" as="geometry" />
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-21" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="xvScfO1UVzyOCzWlIA2Z-3" target="xvScfO1UVzyOCzWlIA2Z-1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="90" y="630" />
              <mxPoint x="90" y="630" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-22" value="&lt;div&gt;HTTP 302&lt;/div&gt;&lt;div&gt;Redirect&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="xvScfO1UVzyOCzWlIA2Z-21">
          <mxGeometry x="0.2453" y="-1" relative="1" as="geometry">
            <mxPoint x="13" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-3" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=none;align=center;verticalAlign=middle;spacingTop=0;spacing=8;arcSize=5;absoluteArcSize=0;fontFamily=Helvetica;fontSize=9;fontColor=light-dark(#4D4D4D,#EDEDED);labelBackgroundColor=none;resizable=1;fillColor=light-dark(#cc4450, #589916);fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="175" y="540" width="10" height="160" as="geometry" />
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-6" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);endArrow=blockThin;endFill=1;startSize=4;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="xvScfO1UVzyOCzWlIA2Z-3" target="xvScfO1UVzyOCzWlIA2Z-3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="190" y="560" as="sourcePoint" />
            <mxPoint x="190" y="580" as="targetPoint" />
            <Array as="points">
              <mxPoint x="213" y="560" />
              <mxPoint x="213" y="580" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-7" value="Status = CONFIRMED" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);fillColor=none;gradientColor=none;spacing=2;rounded=0;strokeColor=light-dark(#4D4D4D,#EDEDED);" connectable="0" vertex="1" parent="xvScfO1UVzyOCzWlIA2Z-6">
          <mxGeometry x="-0.1516" y="1" relative="1" as="geometry">
            <mxPoint x="26" y="5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-8" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=none;align=center;verticalAlign=middle;spacingTop=0;spacing=16;arcSize=5;absoluteArcSize=0;fontFamily=Helvetica;fontSize=9;fontColor=light-dark(#FFFFFF,#EDEDED);labelBackgroundColor=none;resizable=1;fillColor=light-dark(#dd782d, #69aef2);fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="395" y="590" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-9" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="xvScfO1UVzyOCzWlIA2Z-3" target="xvScfO1UVzyOCzWlIA2Z-8">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="189" y="600" as="sourcePoint" />
            <mxPoint x="295" y="600" as="targetPoint" />
            <Array as="points">
              <mxPoint x="340" y="600" />
              <mxPoint x="340" y="600" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-10" value="&lt;div&gt;Invoke&lt;/div&gt;&lt;div&gt;(RequestResponse)&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="xvScfO1UVzyOCzWlIA2Z-9">
          <mxGeometry x="-0.0909" y="-1" relative="1" as="geometry">
            <mxPoint x="19" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-11" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="xvScfO1UVzyOCzWlIA2Z-8" target="xvScfO1UVzyOCzWlIA2Z-3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="295" y="630" as="sourcePoint" />
            <mxPoint x="189" y="630" as="targetPoint" />
            <Array as="points">
              <mxPoint x="340" y="630" />
              <mxPoint x="340" y="630" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-12" value="&amp;nbsp;200 JSON&amp;nbsp;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="xvScfO1UVzyOCzWlIA2Z-11">
          <mxGeometry x="0.0714" relative="1" as="geometry">
            <mxPoint x="18" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-14" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="xvScfO1UVzyOCzWlIA2Z-8" target="xvScfO1UVzyOCzWlIA2Z-16">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="414" y="600" as="sourcePoint" />
            <mxPoint x="480" y="600" as="targetPoint" />
            <Array as="points">
              <mxPoint x="560" y="600" />
              <mxPoint x="560" y="600" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-15" value="&lt;div&gt;PATCH /internal/users&lt;/div&gt;&lt;div&gt;[REST, HTTP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="xvScfO1UVzyOCzWlIA2Z-14">
          <mxGeometry x="-0.0738" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-16" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=none;align=center;verticalAlign=middle;spacingTop=0;spacing=16;arcSize=5;absoluteArcSize=0;fontFamily=Helvetica;fontSize=9;fontColor=light-dark(#FFFFFF,#EDEDED);labelBackgroundColor=none;resizable=1;fillColor=light-dark(#69AEF2,#69AEF2);fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="615" y="590" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-17" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="xvScfO1UVzyOCzWlIA2Z-16" target="xvScfO1UVzyOCzWlIA2Z-8">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="477" y="600" as="sourcePoint" />
            <mxPoint x="414" y="630" as="targetPoint" />
            <Array as="points">
              <mxPoint x="570" y="630" />
              <mxPoint x="570" y="630" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-18" value="&amp;nbsp; 200 OK&amp;nbsp;&amp;nbsp;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="xvScfO1UVzyOCzWlIA2Z-17">
          <mxGeometry x="-0.0738" relative="1" as="geometry">
            <mxPoint x="-21" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-19" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="xvScfO1UVzyOCzWlIA2Z-16" target="xvScfO1UVzyOCzWlIA2Z-16">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="625" y="600" as="sourcePoint" />
            <mxPoint x="625" y="630" as="targetPoint" />
            <Array as="points">
              <mxPoint x="648" y="600" />
              <mxPoint x="648" y="630" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-20" value="&lt;div&gt;update status in&lt;/div&gt;&lt;div&gt;&amp;nbsp;Users DB&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="xvScfO1UVzyOCzWlIA2Z-19">
          <mxGeometry x="-0.1064" relative="1" as="geometry">
            <mxPoint x="12" y="4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-29" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="507" y="660" as="sourcePoint" />
            <mxPoint x="732.9999999999998" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-30" value="&lt;div&gt;&amp;nbsp;GET subscription:{userId}&amp;nbsp;&lt;/div&gt;&lt;div&gt;[Redis TCP]&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="xvScfO1UVzyOCzWlIA2Z-29">
          <mxGeometry x="-0.0253" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-25" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=none;align=center;verticalAlign=middle;spacingTop=0;spacing=16;arcSize=5;absoluteArcSize=0;fontFamily=Helvetica;fontSize=9;fontColor=light-dark(#FFFFFF,#EDEDED);labelBackgroundColor=none;resizable=1;fillColor=light-dark(#dd782d, #69aef2);fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="495" y="650" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-26" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="xvScfO1UVzyOCzWlIA2Z-3" target="xvScfO1UVzyOCzWlIA2Z-25">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="185" y="660" as="sourcePoint" />
            <mxPoint x="291" y="660" as="targetPoint" />
            <Array as="points">
              <mxPoint x="420" y="660" />
              <mxPoint x="420" y="660" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-27" value="&lt;div&gt;Invoke&lt;/div&gt;&lt;div&gt;(RequestResponse)&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="xvScfO1UVzyOCzWlIA2Z-26">
          <mxGeometry x="-0.0909" y="-1" relative="1" as="geometry">
            <mxPoint x="24" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-31" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="xvScfO1UVzyOCzWlIA2Z-28" target="xvScfO1UVzyOCzWlIA2Z-25">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="680" y="690" />
              <mxPoint x="680" y="690" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-32" value="&amp;nbsp;nil (no key yet)&amp;nbsp;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="xvScfO1UVzyOCzWlIA2Z-31">
          <mxGeometry x="0.0284" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-28" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=none;align=center;verticalAlign=middle;spacingTop=0;spacing=16;arcSize=5;absoluteArcSize=0;fontFamily=Helvetica;fontSize=9;fontColor=light-dark(#FFFFFF,#EDEDED);labelBackgroundColor=none;resizable=1;fillColor=light-dark(#b935c9, #69aef2);fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="735" y="650" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-33" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="xvScfO1UVzyOCzWlIA2Z-25" target="xvScfO1UVzyOCzWlIA2Z-3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="556" y="620" as="sourcePoint" />
            <mxPoint x="350" y="620" as="targetPoint" />
            <Array as="points">
              <mxPoint x="260" y="690" />
              <mxPoint x="260" y="690" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-34" value="&amp;nbsp;200 JSON&amp;nbsp;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="xvScfO1UVzyOCzWlIA2Z-33">
          <mxGeometry x="0.0714" relative="1" as="geometry">
            <mxPoint x="21" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-35" style="edgeStyle=orthogonalEdgeStyle;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#4D4D4D,#EDEDED);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);startSize=4;endArrow=blockThin;endFill=1;endSize=4;sourcePerimeterSpacing=2;targetPerimeterSpacing=2;" edge="1" parent="1" source="xvScfO1UVzyOCzWlIA2Z-3" target="xvScfO1UVzyOCzWlIA2Z-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="246" y="620" as="sourcePoint" />
            <mxPoint x="140" y="620" as="targetPoint" />
            <Array as="points">
              <mxPoint x="90" y="690" />
              <mxPoint x="90" y="690" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-36" value="&lt;div&gt;200 OK&lt;/div&gt;&lt;div&gt;{ tokens }&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);" connectable="0" vertex="1" parent="xvScfO1UVzyOCzWlIA2Z-35">
          <mxGeometry x="0.2453" y="-1" relative="1" as="geometry">
            <mxPoint x="13" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xvScfO1UVzyOCzWlIA2Z-37" value="Email Confimation" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;fontFamily=Helvetica;fontSize=8;fontColor=#666666;labelBackgroundColor=light-dark(#FFFFFF,#EDEDED);width=110;height=20;dashed=1;strokeColor=#666666;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="500" width="720" height="210" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
